const urlParams = new URLSearchParams(window.location.search);
const fileID = urlParams.get('file');

// Ambil data link dari localStorage
const links = JSON.parse(localStorage.getItem('links')) || {};
const originalLink = links[fileID];

if (!originalLink) {
  alert('Link tidak valid');
  window.location.href = '/';
} else {
  let count = 5;
  const countdownElement = document.getElementById('countdown');
  const downloadBtn = document.getElementById('downloadBtn');

  const timer = setInterval(() => {
    count--;
    countdownElement.innerText = count;
    if (count === 0) {
      clearInterval(timer);
      downloadBtn.style.display = 'block';
      downloadBtn.href = originalLink;
    }
  }, 1000);
}
